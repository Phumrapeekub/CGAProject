{% extends "base.html" %}
{% block content %}
<div class="max-w-4xl mx-auto px-6 py-8">
  <h1 class="text-2xl font-extrabold mb-6">แก้ไข MMSE ล่าสุด</h1>

  {% if not base %}
    <div class="p-4 rounded-xl bg-yellow-50 border border-yellow-200">
      ยังไม่มีการประเมิน MMSE
    </div>
  {% else %}
  <form method="post" action="{{ url_for('mmse_edit_save', patient_id=patient_id) }}"
        class="bg-white p-6 rounded-2xl border space-y-6">

    <div class="text-sm text-slate-600">
      ประเมินเดิมเมื่อ: <b>{{ base.created_at }}</b>
    </div>

    <!-- Q1 -->
    <div>
      <div class="font-semibold mb-2">Q1</div>
      <label><input type="radio" name="Q1" value="1"
        {% if answers.get('Q1')=='1' %}checked{% endif %}> ถูก</label>
      <label class="ml-4"><input type="radio" name="Q1" value="0"
        {% if answers.get('Q1')=='0' %}checked{% endif %}> ผิด</label>
    </div>

    <!-- Q2 -->
    <div>
      <div class="font-semibold mb-2">Q2</div>
      <label><input type="radio" name="Q2" value="1"
        {% if answers.get('Q2')=='1' %}checked{% endif %}> ถูก</label>
      <label class="ml-4"><input type="radio" name="Q2" value="0"
        {% if answers.get('Q2')=='0' %}checked{% endif %}> ผิด</label>
    </div>

    <div>
      <label class="block text-sm font-semibold mb-1">เหตุผลที่แก้ไข</label>
      <input name="reason" class="w-full border rounded-xl px-3 py-2">
    </div>

    <div class="text-right">
      <button class="px-5 py-2 rounded-xl bg-blue-600 text-white">
        บันทึกการแก้ไข
      </button>
    </div>
  </form>
  {% endif %}
</div>
{% endblock %}
