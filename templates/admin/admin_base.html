<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8">
  <title>{% block title %}CGA Admin{% endblock %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Fonts: Inter + Prompt (‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡πâ‡πÇ‡∏ó‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  {% block head_extra %}{% endblock %}

  <style>
    :root{
      --font-sans: Inter, Prompt, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      --font-head: Prompt, Inter, system-ui, sans-serif;
    }
    body{ font-family: var(--font-sans); }
    h1,h2,h3{ font-family: var(--font-head); letter-spacing: -0.02em; }

    .bg-grid{
      background:
        radial-gradient(900px 450px at 20% 10%, rgba(59,130,246,.22), transparent 60%),
        radial-gradient(700px 420px at 80% 20%, rgba(99,102,241,.16), transparent 55%),
        radial-gradient(800px 500px at 50% 90%, rgba(14,165,233,.14), transparent 60%),
        linear-gradient(180deg, #f8fbff 0%, #eef5ff 45%, #eef2ff 100%);
    }

    .glass{
      background: rgba(255,255,255,.72);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      border: 1px solid rgba(2,6,23,.08);
      box-shadow:
        0 18px 45px rgba(2,6,23,.08),
        0 2px 10px rgba(2,6,23,.05);
    }

    .soft-card{
      background: rgba(255,255,255,.86);
      border: 1px solid rgba(2,6,23,.07);
      box-shadow:
        0 18px 40px rgba(2,6,23,.08),
        0 2px 10px rgba(2,6,23,.05);
      position: relative;
      overflow: hidden;
    }
    .soft-card::before{
      content:"";
      position:absolute;
      inset:-1px;
      border-radius: 16px;
      background: radial-gradient(600px 240px at 18% 8%, rgba(59,130,246,.10), transparent 55%);
      pointer-events:none;
    }

    .chip{
      background: rgba(255,255,255,.70);
      border: 1px solid rgba(2,6,23,.08);
    }

    ::-webkit-scrollbar{ width: 10px; }
    ::-webkit-scrollbar-thumb{ background: rgba(148,163,184,.35); border-radius: 999px; }
  </style>
</head>

<body class="bg-grid min-h-screen text-slate-800">

  <!-- ‚úÖ FIXED SIDEBAR: ‡πÑ‡∏°‡πà‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ï‡∏≤‡∏°‡∏´‡∏ô‡πâ‡∏≤ -->
  <aside class="hidden md:block fixed top-0 left-0 h-screen w-[280px] p-5 overflow-y-auto">
    <div class="glass rounded-2xl p-4">
      <div class="flex items-center gap-3">
        <div class="h-11 w-11 rounded-xl bg-blue-600/10 border border-blue-600/15 flex items-center justify-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M9 12h6m-6 4h6M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
          </svg>
        </div>
        <div>
          <div class="text-lg font-semibold text-slate-900">‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏û‡∏∞‡πÄ‡∏¢‡∏≤</div>
          <div class="text-xs text-slate-500">‡∏£‡∏∞‡∏ö‡∏ö‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏• (CGA)</div>
        </div>
      </div>

      <nav class="mt-6 space-y-2 text-sm">
        <a class="flex items-center gap-3 px-3 py-2 rounded-xl
          {% if active_page=='dashboard' %} bg-blue-600/10 border border-blue-600/10 text-slate-900 font-semibold
          {% else %} hover:bg-blue-600/10 border border-transparent hover:border-blue-600/10 text-slate-700 {% endif %}"
          href="/admin/dashboard">
          <span class="h-8 w-8 rounded-lg bg-blue-600/10 flex items-center justify-center">‚ñ¶</span>
          ‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î
        </a>

        <!-- ‚úÖ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô href ‡∏à‡∏≤‡∏Å # -> /admin/patients -->
        <a class="flex items-center gap-3 px-3 py-2 rounded-xl
          {% if active_page=='patients' %} bg-blue-600/10 border border-blue-600/10 text-slate-900 font-semibold
          {% else %} hover:bg-blue-600/10 border border-transparent hover:border-blue-600/10 text-slate-700 {% endif %}"
          href="/admin/patients">
          <span class="h-8 w-8 rounded-lg bg-slate-900/5 flex items-center justify-center">üë§</span>
          ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢
        </a>

        <a class="flex items-center gap-3 px-3 py-2 rounded-xl hover:bg-blue-600/10 border border-transparent hover:border-blue-600/10 text-slate-700" href="/admin/doctors">
          <span class="h-8 w-8 rounded-lg bg-slate-900/5 flex items-center justify-center">ü©∫</span>
          ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå
        </a>
        <a class="flex items-center gap-3 px-3 py-2 rounded-xl hover:bg-blue-600/10 border border-transparent hover:border-blue-600/10 text-slate-700" href="/admin/nurses">
          <span class="h-8 w-8 rounded-lg bg-slate-900/5 flex items-center justify-center">üßë‚Äç‚öïÔ∏è</span>
          ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•
        </a>
        <a class="flex items-center gap-3 px-3 py-2 rounded-xl hover:bg-blue-600/10 border border-transparent hover:border-blue-600/10 text-slate-700" href="/admin/appointments">
          <span class="h-8 w-8 rounded-lg bg-slate-900/5 flex items-center justify-center">üìÖ</span>
          ‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢
        </a>
        <a class="flex items-center gap-3 px-3 py-2 rounded-xl hover:bg-blue-600/10 border border-transparent hover:border-blue-600/10 text-slate-700" href="/admin/assessments">
          <span class="h-8 w-8 rounded-lg bg-slate-900/5 flex items-center justify-center">üßæ</span>
          ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô CGA
        </a>
      </nav>
    </div>

    <!-- profile -->
    <div class="glass rounded-2xl p-4 mt-4">
      <div class="flex items-center gap-3">
        <div class="h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold">
          {{ (username or "A")[:1] | upper }}
        </div>
        <div class="min-w-0">
          <div class="font-semibold truncate text-slate-900">{{ username or "Admin User" }}</div>
          <div class="text-xs text-slate-500">‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö</div>
        </div>
      </div>
      <form method="post" action="/admin/logout" class="mt-3">
        <button type="submit"
          class="inline-flex items-center justify-center w-full px-3 py-2 rounded-xl bg-slate-900/5 hover:bg-slate-900/10 border border-slate-900/5 text-sm text-slate-800">
          ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
        </button>
      </form>
    </div>
  </aside>

  <!-- ‚úÖ CONTENT: ‡πÄ‡∏ß‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ sidebar (md:ml-[280px]) -->
  <main class="min-h-screen md:ml-[280px] p-5 md:p-7">
    {% block content %}{% endblock %}
  </main>

</body>
</html>
