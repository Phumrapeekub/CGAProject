{% extends "base.html" %}
{% block title %}‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏†‡∏≤‡∏û‡∏™‡∏°‡∏≠‡∏á (MMSE-T){% endblock %}
{% block content %}

<div class="max-w-6xl mx-auto px-4 py-6 space-y-6">

  <!-- HN/GCN + Step -->
  <div class="flex items-center justify-between">
    <span class="px-4 py-1.5 rounded-full bg-white shadow border text-slate-700">
      <span class="font-medium">HN:</span> {{ hn }} <span class="mx-1">|</span> <span class="font-medium">GCN:</span> {{ gcn }}
    </span>
    <span class="px-4 py-1.5 rounded-full bg-white shadow border text-slate-700">
      ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏†‡∏≤‡∏û‡∏™‡∏°‡∏≠‡∏á
    </span>
  </div>
  <!-- ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÅ‡∏ó‡∏ô progress bar -->
  <div class="mt-4 flex justify-center">
    <div class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white shadow-sm border border-slate-200 text-sm text-slate-600">
      <span>‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà</span>
      <span class="font-semibold text-emerald-600">2</span>
      <span>‡∏à‡∏≤‡∏Å</span>
      <span class="font-semibold">3</span>
    </div>
  </div>


  <!-- üîπ Step Navigation (‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà) -->
  <div class="mt-4 flex items-center justify-center gap-3">

    <a href="{{ url_for('assess_session', hn=hn, gcn=gcn) }}"
       class="px-4 py-2 rounded-full text-sm font-medium
              {% if step == 1 %} bg-blue-600 text-white {% else %} bg-white border {% endif %}">
      ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1
    </a>

    <a href="{{ url_for('mmse_next', hn=hn, gcn=gcn) }}"
   class="px-4 py-2 rounded-full text-sm font-medium
          {% if step == 2 %} bg-blue-600 text-white {% else %} bg-white border {% endif %}">
  ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2
</a>

    <a href="{{ url_for('affect_step', hn=hn, gcn=gcn) }}"
       class="px-4 py-2 rounded-full text-sm font-medium
              {% if step == 3 %} bg-blue-600 text-white {% else %} bg-white border {% endif %}">
      ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3
    </a>
  </div>
  
  <form method="POST" action="{{ url_for('mmse_next', hn=hn, gcn=gcn) }}">

<style>
  /* ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏õ‡∏∏‡πà‡∏° ‚úì ‚úó ‡πÉ‡∏´‡πâ‡∏Å‡∏î‡∏á‡πà‡∏≤‡∏¢ */
  .mmse-option-group {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 0.75rem; /* ‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏° */
    margin-top: 0.75rem;
  }
  .mmse-pill {
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 9999px;
    border: 1px solid rgb(226 232 240);
    padding: 0.75rem 1rem;
    cursor: pointer;
    background-color: white;
    transition: background-color 0.15s ease, box-shadow 0.15s ease, border-color 0.15s ease;
  }
  .mmse-pill:hover {
    background-color: rgb(239 246 255); /* hover ‡∏ü‡πâ‡∏≤‡∏≠‡πà‡∏≠‡∏ô */
    border-color: rgb(191 219 254);
    box-shadow: 0 4px 10px rgba(148, 163, 184, 0.25);
  }
  .mmse-pill input {
    display: none;  /* ‡∏ã‡πà‡∏≠‡∏ô radio ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡πá‡∏Å */
  }
  .mmse-pill span {
    font-weight: 500;
  }
  .mmse-pill input:checked + span {
    background: linear-gradient(to right, #2563eb, #1d4ed8);
    color: white;
    padding: 0.25rem 1.75rem;
    border-radius: 9999px;
    box-shadow: 0 6px 14px rgba(37, 99, 235, 0.35);
  }
</style>

  <!-- ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏´‡∏±‡∏ß‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á -->
  <div class="rounded-[26px] bg-white shadow-xl border border-slate-100 overflow-hidden">
    <div class="px-6 py-5 bg-rose-50 flex items-center gap-3">
      <div class="w-10 h-10 rounded-xl bg-rose-200 text-rose-700 grid place-items-center">
        <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
          <path d="M12 8v8m4-4H8" stroke-linecap="round"/>
        </svg>
      </div>
      <div>
        <div class="font-semibold">‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏†‡∏≤‡∏û‡∏™‡∏°‡∏≠‡∏á (MMSE-T)</div>
        <div class="text-xs text-slate-500">Mini-Mental State Examination - Thai 2002</div>
      </div>
      <div class="ml-auto text-sm">
        ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°: 
        <span id="score" class="font-semibold">
  {{ mmse_row.total_score if mmse_row else 0 }}
</span> / 30
      </div>
    </div>

    <div class="p-6 md:p-8 space-y-8">

      <!-- ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ -->
      <div class="rounded-2xl border border-amber-200 bg-amber-50 text-amber-800 px-4 py-3 text-sm">
        ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏´‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ) ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° 4, 9, 10 ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏Ç‡πâ‡∏≤‡∏° ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô 23 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
      </div>

      <!-- ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ -->
      <div>
        <label class="block text-slate-700 font-medium mb-2">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ <span class="text-rose-600">*</span></label>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <label class="inline-flex items-center gap-2 rounded-2xl border px-4 py-3">
  <input type="radio" name="edu" value="0" class="edu accent-blue-600"
         {% if mmse_row and mmse_row.edu == 0 %}checked{% endif %}>
  ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ)
</label>
<label class="inline-flex items-center gap-2 rounded-2xl border px-4 py-3">
  <input type="radio" name="edu" value="1" class="edu accent-blue-600"
         {% if mmse_row and mmse_row.edu == 1 %}checked{% endif %}>
  ‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤
</label>
<label class="inline-flex items-center gap-2 rounded-2xl border px-4 py-3">
  <input type="radio" name="edu" value="2" class="edu accent-blue-600"
         {% if mmse_row and mmse_row.edu == 2 %}checked{% endif %}>
  ‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ
</label>

        </div>
      </div>

      <!-- ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Ç‡πâ‡∏≠ 1: Orientation for Time (5 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô) -->
      <section class="space-y-4">
        <div class="rounded-2xl bg-sky-50 text-sky-800 px-4 py-2 font-medium flex items-center justify-between">
          ‡∏Ç‡πâ‡∏≠ 1: Orientation for Time (‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏£‡∏π‡πâ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô) ‚Äì 5 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
        </div>

        {% set q1 = [
          ('‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà','‡πÄ‡∏ä‡πà‡∏ô ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1'),
          ('‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‡∏ß‡∏±‡∏ô‡∏≠‡∏∞‡πÑ‡∏£','‡πÄ‡∏ä‡πà‡∏ô ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‡∏ß‡∏±‡∏ô‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå'),
          ('‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏≠‡∏∞‡πÑ‡∏£','‡πÄ‡∏ä‡πà‡∏ô ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏°'),
          ('‡∏õ‡∏µ‡∏ô‡∏µ‡πâ ‡∏õ‡∏µ‡∏≠‡∏∞‡πÑ‡∏£ (‡∏û.‡∏®.)','‡πÄ‡∏ä‡πà‡∏ô 2568'),
          ('‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏•‡∏≠‡∏∞‡πÑ‡∏£','‡πÄ‡∏ä‡πà‡∏ô ‡∏ù‡∏ô')
        ] %}

        {% for txt, ex in q1 %}
  {% set key = 'q1_' ~ loop.index %}
  <div class="rounded-2xl border px-4 py-3">
    <div class="flex flex-wrap items-center justify-between gap-2">
      <div class="text-slate-700">{{ loop.index }}. {{ txt }}</div>
      <div class="text-xs text-slate-400">‡πÄ‡∏ä‡πà‡∏ô {{ ex }}</div>
    </div>

    <div class="mt-3 mmse-option-group">
      <label class="mmse-label">
        <input type="radio" name="q1_{{ loop.index }}" value="1"
               {% if mmse_row and mmse_row[key] == 1 %}checked{% endif %}>
        <span>‚úì</span>
      </label>

      <label class="mmse-label">
        <input type="radio" name="q1_{{ loop.index }}" value="0"
               {% if mmse_row and mmse_row[key] == 0 %}checked{% endif %}>
        <span>‚úó</span>
      </label>
    </div>
  </div>
{% endfor %}

      </section>

      <!-- ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Ç‡πâ‡∏≠ 2: Orientation for Place (5 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô) -->
      <section class="space-y-4">
        <div class="rounded-2xl bg-sky-50 text-sky-800 px-4 py-2 font-medium flex items-center justify-between">
          ‡∏Ç‡πâ‡∏≠ 2: Orientation for Place (‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏£‡∏π‡πâ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà) ‚Äì 5 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
        </div>

        {% set q2 = [
  ('‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏≠‡∏∞‡πÑ‡∏£ ‡πÅ‡∏•‡∏∞‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∞‡πÑ‡∏£', ''),
  ('‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ä‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏£‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£', ''),
  ('‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏≠‡∏∞‡πÑ‡∏£', ''),
  ('‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏≠‡∏∞‡πÑ‡∏£', ''),
  ('‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡∏†‡∏≤‡∏Ñ‡∏≠‡∏∞‡πÑ‡∏£', '')
] %}

{% for txt, ex in q2 %}
  {% set key = 'q2_' ~ loop.index %}
  <div class="rounded-2xl border px-4 py-3">
    <div class="flex flex-wrap items-center justify-between gap-2">
      <div class="text-slate-700">{{ loop.index }}. {{ txt }}</div>
      {% if ex %}
        <div class="text-xs text-slate-400">‡πÄ‡∏ä‡πà‡∏ô {{ ex }}</div>
      {% endif %}
    </div>

    <div class="mt-3 mmse-option-group">
      <label class="mmse-label">
        <input type="radio" name="q2_{{ loop.index }}" value="1"
               {% if mmse_row and mmse_row[key] == 1 %}checked{% endif %}>
        <span>‚úì</span>
      </label>

      <label class="mmse-label">
        <input type="radio" name="q2_{{ loop.index }}" value="0"
               {% if mmse_row and mmse_row[key] == 0 %}checked{% endif %}>
        <span>‚úó</span>
      </label>
    </div>
  </div>
{% endfor %}


      </section>

      
      <!-- ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Ç‡πâ‡∏≠ 3‚Äì11 (‡∏™‡∏£‡∏∏‡∏õ‡πÅ‡∏ö‡∏ö‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á) -->
      <section class="space-y-4">
        <!-- ‡∏Ç‡πâ‡∏≠ 3: Registration -->
<div class="rounded-2xl bg-indigo-50 text-indigo-800 px-4 py-2 font-medium mt-6">
  ‡∏Ç‡πâ‡∏≠ 3: Registration (‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥ ‡πÇ‡∏î‡∏¢‡πÉ‡∏´‡πâ‡∏à‡∏≥‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á 3 ‡∏≠‡∏¢‡πà‡∏≤‡∏á) ‚Äì 3 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
</div>
<p class="text-slate-500 mt-1">
  ‡∏ü‡∏±‡∏á‡πÉ‡∏´‡πâ‡∏î‡∏µ‡∏ô‡∏∞‡∏Ñ‡∏∞ ‡∏à‡∏∞‡∏ö‡∏≠‡∏Å‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏û‡∏π‡∏î‡∏à‡∏ö‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡∏û‡∏π‡∏î‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏¢‡∏¥‡∏ô‡∏ó‡∏±‡πâ‡∏á 3 ‡∏ä‡∏∑‡πà‡∏≠ ‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏≥‡πÑ‡∏ß‡πâ‡πÉ‡∏´‡πâ‡∏î‡∏µ‡∏ô‡∏∞‡∏Ñ‡∏∞
  ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏à‡∏∞‡∏ñ‡∏≤‡∏°‡∏ã‡πâ‡∏≥: <span class="text-fuchsia-600 font-semibold">‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ - ‡πÅ‡∏°‡πà‡∏ô‡πâ‡∏≥ - ‡∏£‡∏ñ‡πÑ‡∏ü</span>
</p>

<div class="mt-4 text-slate-700 font-medium">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (0‚Äì3)</div>

<div class="grid grid-cols-4 gap-3 mt-2">
  <!-- ‡∏õ‡∏∏‡πà‡∏° 0 -->
  <label class="inline-flex items-center justify-center rounded-2xl border border-gray-300 px-4 py-3 cursor-pointer transition hover:bg-blue-50">
    <input type="radio" name="q3" value="0" class="hidden peer"
       {% if mmse_row and mmse_row.q3 == 0 %}checked{% endif %} />
    <span class="text-base font-medium peer-checked:bg-blue-500 peer-checked:text-white px-6 py-2 rounded-2xl">0 ‡∏Ñ‡∏≥</span>
  </label>

  <!-- ‡∏õ‡∏∏‡πà‡∏° 1 -->
  <label class="inline-flex items-center justify-center rounded-2xl border border-gray-300 px-4 py-3 cursor-pointer transition hover:bg-blue-50">
    <input type="radio" name="q3" value="1" class="hidden peer"
       {% if mmse_row and mmse_row.q3 == 1 %}checked{% endif %} />
    <span class="text-base font-medium peer-checked:bg-blue-500 peer-checked:text-white px-6 py-2 rounded-2xl">1 ‡∏Ñ‡∏≥</span>
  </label>

  <!-- ‡∏õ‡∏∏‡πà‡∏° 2 -->
  <label class="inline-flex items-center justify-center rounded-2xl border border-gray-300 px-4 py-3 cursor-pointer transition hover:bg-blue-50">
    <input type="radio" name="q3" value="2" class="hidden peer"
       {% if mmse_row and mmse_row.q3 == 2 %}checked{% endif %} />
    <span class="text-base font-medium peer-checked:bg-blue-500 peer-checked:text-white px-6 py-2 rounded-2xl">2 ‡∏Ñ‡∏≥</span>
  </label>

  <!-- ‡∏õ‡∏∏‡πà‡∏° 3 -->
  <label class="inline-flex items-center justify-center rounded-2xl border border-gray-300 px-4 py-3 cursor-pointer transition hover:bg-blue-50">
    <input type="radio" name="q3" value="3" class="hidden peer"
       {% if mmse_row and mmse_row.q3 == 3 %}checked{% endif %} />
    <span class="text-base font-medium peer-checked:bg-blue-500 peer-checked:text-white px-6 py-2 rounded-2xl">3 ‡∏Ñ‡∏≥</span>
  </label>
</div>
      </section>

 <!-- ‡∏Ç‡πâ‡∏≠ 4 -->
<div class="rounded-2xl bg-indigo-50 text-indigo-800 px-4 py-2 font-medium mt-6">
  ‡∏Ç‡πâ‡∏≠ 4: Attention or Calculation (‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏°‡∏≤‡∏ò‡∏¥) - 5 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
</div>

<p class="text-slate-500 mt-2">
  1) ‡∏Ñ‡∏¥‡∏î‡πÄ‡∏•‡∏Ç‡πÉ‡∏ô‡πÉ‡∏à ‡πÄ‡∏≠‡∏≤ 100 ‡∏ï‡∏±‡πâ‡∏á ‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡∏ó‡∏µ‡∏•‡∏∞ 7 ‡πÑ‡∏õ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏¢‡πÜ 5 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á (93, 86, 79, 72, 65)
</p>
<p class="text-sm text-gray-400 mb-2">(‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å 0‚Äì5)</p>
<div class="grid grid-cols-6 gap-3">
  {% for i in range(0,6) %}
  <label class="inline-flex items-center justify-center rounded-2xl border border-gray-300 px-6 py-3 cursor-pointer hover:bg-blue-50 transition">
    <input type="radio" name="q4_1" value="{{ i }}" class="hidden peer"
       {% if mmse_row and mmse_row.q4_1 == i %}checked{% endif %} />
    <span class="text-base font-medium peer-checked:bg-blue-500 peer-checked:text-white px-6 py-2 rounded-2xl">{{ i }}</span>
  </label>
  {% endfor %}
</div>

<p class="text-slate-500 mt-4">
  2) ‡∏™‡∏∞‡∏Å‡∏î‡∏Ñ‡∏≥‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á: ‡πÉ‡∏´‡πâ‡∏ó‡πà‡∏≤‡∏ô‡∏™‡∏∞‡∏Å‡∏î‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ 
  <span class="text-fuchsia-600 font-semibold">"‡∏°‡∏∞‡∏ô‡∏≤‡∏ß"</span> 
  ‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏õ‡πá‡∏ô <span class="text-purple-600 font-semibold">"‡∏ß ‡∏≤ ‡∏ô ‡∏∞ ‡∏°"</span>
</p>
<p class="text-sm text-gray-400 mb-2">(‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏ó‡∏µ‡πà‡∏™‡∏∞‡∏Å‡∏î‡∏ñ‡∏π‡∏Å 0‚Äì5)</p>
<div class="grid grid-cols-6 gap-3">
  {% for i in range(0,6) %}
  <label class="inline-flex items-center justify-center rounded-2xl border border-gray-300 px-6 py-3 cursor-pointer hover:bg-blue-50 transition">
    <input type="radio" name="q4_2" value="{{ i }}" class="hidden peer"
       {% if mmse_row and mmse_row.q4_2 == i %}checked{% endif %} />
    <span class="text-base font-medium peer-checked:bg-blue-500 peer-checked:text-white px-6 py-2 rounded-2xl">{{ i }}</span>
  </label>
  {% endfor %}
</div>

<!-- ‡∏Ç‡πâ‡∏≠ 5 -->
<div class="rounded-2xl bg-indigo-50 text-indigo-800 px-4 py-2 font-medium mt-8">
  ‡∏Ç‡πâ‡∏≠ 5: Recall (‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡πÇ‡∏î‡∏¢‡πÉ‡∏´‡πâ‡∏à‡∏≥‡∏Ñ‡∏≥‡πÉ‡∏ô‡∏Ç‡πâ‡∏≠ 3) - 3 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
</div>
<p class="text-slate-500 mt-2">‡πÉ‡∏´‡πâ‡∏ó‡πà‡∏≤‡∏ô‡∏ö‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡∏à‡∏≥‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏Ç‡πâ‡∏≠ 3</p>
<div class="grid grid-cols-4 gap-3 mt-2">
  {% for i in range(0,4) %}
  <label class="inline-flex items-center justify-center rounded-2xl border border-gray-300 px-6 py-3 cursor-pointer hover:bg-blue-50 transition">
    <input type="radio" name="q5" value="{{ i }}" class="hidden peer"
       {% if mmse_row and mmse_row.q5 == i %}checked{% endif %} />

    <span class="peer-checked:bg-blue-500 peer-checked:text-white px-6 py-2 rounded-2xl">{{ i }} ‡∏Ñ‡∏≥</span>
  </label>
  {% endfor %}
</div>

<!-- ‡∏Ç‡πâ‡∏≠ 6 -->
<div class="rounded-2xl bg-indigo-50 text-indigo-800 px-4 py-2 font-medium mt-8">
  ‡∏Ç‡πâ‡∏≠ 6: Naming (‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ö‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô) - 2 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
</div>
<p class="text-slate-500 mt-2">‡πÉ‡∏´‡πâ‡∏ó‡πà‡∏≤‡∏ô‡∏ö‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏™‡∏¥‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡∏î‡∏¥‡∏ô‡∏™‡∏≠, ‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤</p>
<div class="grid grid-cols-3 gap-3 mt-2">
  {% for i in range(0,3) %}
  <label class="inline-flex items-center justify-center rounded-2xl border border-gray-300 px-6 py-3 cursor-pointer hover:bg-blue-50 transition">
    <input type="radio" name="q6" value="{{ i }}" class="hidden peer"
       {% if mmse_row and mmse_row.q6 == i %}checked{% endif %} />

    <span class="peer-checked:bg-blue-500 peer-checked:text-white px-6 py-2 rounded-2xl">{{ i }}</span>
  </label>
  {% endfor %}
</div>

<!-- ‡∏Ç‡πâ‡∏≠ 7 -->
<div class="rounded-2xl bg-indigo-50 text-indigo-800 px-4 py-2 font-medium mt-8">
  ‡∏Ç‡πâ‡∏≠ 7: Repetition (‡∏û‡∏π‡∏î‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ) - 1 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
</div>
<p class="text-slate-500 mt-2">‡πÉ‡∏´‡πâ‡∏ó‡πà‡∏≤‡∏ô‡∏û‡∏π‡∏î‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ: <span class="text-fuchsia-600 font-semibold">"‡πÉ‡∏Ñ‡∏£‡∏Ñ‡∏£‡∏ß‡∏ç‡∏™‡∏≤‡∏¢‡πÉ‡∏¢‡πÉ‡∏à"</span></p>
<div class="grid grid-cols-2 gap-3 mt-2">
  <label class="inline-flex items-center justify-center rounded-2xl border border-gray-300 px-6 py-3 cursor-pointer hover:bg-blue-50 transition">
    <input type="radio" name="q7" value="1" class="hidden peer"
       {% if mmse_row and mmse_row.q7 == 1 %}checked{% endif %} />
    <span class="peer-checked:bg-blue-500 peer-checked:text-white px-6 py-2 rounded-2xl">‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (1)</span>
  </label>
  <label class="inline-flex items-center justify-center rounded-2xl border border-gray-300 px-6 py-3 cursor-pointer hover:bg-blue-50 transition">
    <input type="radio" name="q7" value="0" class="hidden peer"
       {% if mmse_row and mmse_row.q7 == 0 %}checked{% endif %} />
    <span class="peer-checked:bg-blue-500 peer-checked:text-white px-6 py-2 rounded-2xl">‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (0)</span>
  </label>
</div>

<!-- ‡∏Ç‡πâ‡∏≠ 8 -->
<div class="rounded-2xl bg-indigo-50 text-indigo-800 px-4 py-2 font-medium mt-8">
  ‡∏Ç‡πâ‡∏≠ 8: Verbal Command (‡∏ó‡∏≥‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á 3 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô) - 3 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
</div>
<p class="text-slate-500 mt-2">
  ‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: <span class="text-purple-600 font-semibold">"‡∏´‡∏¢‡∏¥‡∏ö‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤ ‡∏û‡∏±‡∏ö‡∏Ñ‡∏£‡∏∂‡πà‡∏á ‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡∏≤‡∏á‡∏•‡∏á‡∏ö‡∏ô‡πÇ‡∏ï‡πä‡∏∞"</span>
</p>
<div class="grid grid-cols-4 gap-3 mt-2">
  {% for i in range(0,4) %}
  <label class="inline-flex items-center justify-center rounded-2xl border border-gray-300 px-6 py-3 cursor-pointer hover:bg-blue-50 transition">
    <input type="radio" name="q8" value="{{ i }}" class="hidden peer"
       {% if mmse_row and mmse_row.q8 == i %}checked{% endif %} />
    <span class="peer-checked:bg-blue-500 peer-checked:text-white px-6 py-2 rounded-2xl">{{ i }} ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô</span>
  </label>
  {% endfor %}
</div>

<!-- ‡∏Ç‡πâ‡∏≠ 9 -->
<div class="rounded-2xl bg-indigo-50 text-indigo-800 px-4 py-2 font-medium mt-8">
  ‡∏Ç‡πâ‡∏≠ 9: Written Command (‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡∏ï‡∏≤‡∏°) - 1 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
</div>
<p class="text-slate-500 mt-2">‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡πà‡∏≤ <span class="text-fuchsia-600 font-semibold">"‡∏´‡∏•‡∏±‡∏ö‡∏ï‡∏≤"</span> ‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏ï‡∏≤‡∏°</p>
<div class="grid grid-cols-2 gap-3 mt-2">
  <label class="inline-flex items-center justify-center rounded-2xl border border-gray-300 px-6 py-3 cursor-pointer hover:bg-blue-50 transition">
    <input type="radio" name="q9" value="1" class="hidden peer"
       {% if mmse_row and mmse_row.q9 == 1 %}checked{% endif %}>
    <span class="peer-checked:bg-blue-500 peer-checked:text-white px-6 py-2 rounded-2xl">‡∏ó‡∏≥‡πÑ‡∏î‡πâ (1)</span>
  </label>
  <label class="inline-flex items-center justify-center rounded-2xl border border-gray-300 px-6 py-3 cursor-pointer hover:bg-blue-50 transition">
    <input type="radio" name="q9" value="0" class="hidden peer"
       {% if mmse_row and mmse_row.q9 == 0 %}checked{% endif %}>
    <span class="peer-checked:bg-blue-500 peer-checked:text-white px-6 py-2 rounded-2xl">‡∏ó‡∏≥‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ (0)</span>
  </label>
</div>

<!-- ‡∏Ç‡πâ‡∏≠ 10 -->
<div class="rounded-2xl bg-indigo-50 text-indigo-800 px-4 py-2 font-medium mt-8">
  ‡∏Ç‡πâ‡∏≠ 10: Writing (‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢) - 1 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
</div>
<p class="text-slate-500 mt-2">‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢</p>
<div class="grid grid-cols-2 gap-3 mt-2">
  <label class="inline-flex items-center justify-center rounded-2xl border border-gray-300 px-6 py-3 cursor-pointer hover:bg-blue-50 transition">
    <input type="radio" name="q10" value="1" class="hidden peer"
       {% if mmse_row and mmse_row.q10 == 1 %}checked{% endif %}>
    <span class="peer-checked:bg-blue-500 peer-checked:text-white px-6 py-2 rounded-2xl">‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏î‡πâ (1)</span>
  </label>
  <label class="inline-flex items-center justify-center rounded-2xl border border-gray-300 px-6 py-3 cursor-pointer hover:bg-blue-50 transition">
    <input type="radio" name="q10" value="0" class="hidden peer"
       {% if mmse_row and mmse_row.q10 == 0 %}checked{% endif %}>
    <span class="peer-checked:bg-blue-500 peer-checked:text-white px-6 py-2 rounded-2xl">‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ (0)</span>
  </label>
</div>

<!-- ‡∏Ç‡πâ‡∏≠ 11 -->
<div class="rounded-2xl bg-indigo-50 text-indigo-800 px-4 py-2 font-medium mt-8">
  ‡∏Ç‡πâ‡∏≠ 11: Visuoconstruction (‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏†‡∏≤‡∏û‡∏£‡∏π‡∏õ‡∏´‡πâ‡∏≤‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°) - 1 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
</div>

<p class="text-slate-500 mt-2">
  ‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ß‡∏≤‡∏î‡∏£‡∏π‡∏õ‡∏´‡πâ‡∏≤‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°‡∏ã‡πâ‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡∏ï‡∏≤‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á
</p>

<!-- üîΩ ‡∏£‡∏π‡∏õ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á -->
<div class="mt-3 flex justify-center">
  <img
    src="{{ url_for('static', filename='image/5‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°.png') }}"
    alt="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏π‡∏õ‡∏´‡πâ‡∏≤‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°‡∏ã‡πâ‡∏≠‡∏ô‡∏Å‡∏±‡∏ô"
    class="max-w-sm w-full rounded-2xl border border-slate-200 bg-white p-4"
  >
</div>

<!-- ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô -->
<div class="grid grid-cols-2 gap-3 mt-4 mb-10">
  <label class="inline-flex items-center justify-center rounded-2xl border border-gray-300 px-6 py-3 cursor-pointer hover:bg-blue-50 transition">
    <input type="radio" name="q11" value="1" class="hidden peer"
      {% if mmse_row and mmse_row.q11 == 1 %}checked{% endif %}>
    <span class="peer-checked:bg-blue-500 peer-checked:text-white px-6 py-2 rounded-2xl">
      ‡∏ß‡∏≤‡∏î‡πÑ‡∏î‡πâ (1)
    </span>
  </label>

  <label class="inline-flex items-center justify-center rounded-2xl border border-gray-300 px-6 py-3 cursor-pointer hover:bg-blue-50 transition">
    <input type="radio" name="q11" value="0" class="hidden peer"
      {% if mmse_row and mmse_row.q11 == 0 %}checked{% endif %}>
    <span class="peer-checked:bg-blue-500 peer-checked:text-white px-6 py-2 rounded-2xl">
      ‡∏ß‡∏≤‡∏î‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ (0)
    </span>
  </label>
</div>


      <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3 mt-8">
        <div class="flex gap-3">
          <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö -->
          <a href="{{ url_for('assess_session', hn=hn, gcn=gcn) }}"
             class="px-6 py-2 bg-gray-200 text-slate-700 rounded-2xl shadow hover:bg-gray-300 transition">
            ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö
          </a>

          <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å (‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ä‡∏∑‡πà‡∏≠ endpoint ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ô‡∏∞) -->
          <a href="{{ url_for('dashboard') }}"
             class="px-6 py-2 bg-gray-200 text-slate-700 rounded-2xl shadow hover:bg-gray-300 transition">
            ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
          </a>
        </div>

        <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏ñ‡∏±‡∏î‡πÑ‡∏õ (‡∏™‡πà‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°) -->
        <div>
          <input type="hidden" name="total_score"
       id="total_score_input"
       value="{{ mmse_row.total_score if mmse_row else 0 }}">

          <button type="submit"
            class="bg-blue-600 text-white px-8 py-3 rounded-2xl font-medium shadow-lg hover:bg-blue-700 transition">
            ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ >
          </button>
        </div>
      </div>
</form> <!-- ‚úÖ ‡∏õ‡∏¥‡∏î form ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ -->

    </div> <!-- /.p-6 md:p-8 -->
  </div>   <!-- /.card -->
</div>     <!-- /.container -->
  

<!-- ‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏ô‡∏±‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏á‡πà‡∏≤‡∏¢ -->
<script>
  function getChecked(name) {
    const el = document.querySelector(`input[name="${name}"]:checked`);
    return el ? Number(el.value) : 0;
  }
  function sumGroup(prefix, count) {
    let s = 0;
    for (let i = 1; i <= count; i++) {
      const el = document.querySelector(`input[name="${prefix}_${i}"]:checked`);
      s += el ? Number(el.value) : 0;
    }
    return s;
  }

  // ===== ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß =====
  function recalc() {
    let sum = 0;
    
    // ‡∏Ç‡πâ‡∏≠ 1‚Äì2
    sum += sumGroup('q1', 5); // 5 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
    sum += sumGroup('q2', 5); // 5 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
    
    // ‡∏Ç‡πâ‡∏≠ 3
    sum += getChecked('q3');  // 3 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
    
    // ‡∏Ç‡πâ‡∏≠ 4 (‡πÅ‡∏Å‡πâ‡∏ö‡∏±‡πä‡∏Å‡πÅ‡∏•‡πâ‡∏ß: ‡πÄ‡∏≠‡∏≤‡∏Ñ‡πà‡∏≤‡∏°‡∏≤‡∏Å‡∏™‡∏∏‡∏î‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á 4.1 ‡∏Å‡∏±‡∏ö 4.2)
    sum += Math.max(getChecked('q4_1'), getChecked('q4_2')); // 5 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
    
    // ‡∏Ç‡πâ‡∏≠ 5‚Äì11
    sum += getChecked('q5');  // 3 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
    sum += getChecked('q6');  // 2 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
    sum += getChecked('q7');  // 1 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
    sum += getChecked('q8');  // 3 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
    sum += getChecked('q9');  // 1 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
    sum += getChecked('q10'); // 1 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
    sum += getChecked('q11'); // 1 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô

    // 1. ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡πÇ‡∏ä‡∏ß‡πå‡∏ö‡∏ô‡∏à‡∏≠ (‡∏ó‡∏µ‡πà‡∏´‡∏±‡∏ß‡∏Å‡∏≤‡∏£‡πå‡∏î)
    document.getElementById('score').textContent = sum;
    
    // 2. ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÉ‡∏ô "‡∏ä‡πà‡∏≠‡∏á‡∏•‡∏±‡∏ö" (‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2)
    document.getElementById('total_score_input').value = sum;
  }
  
  // ‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏Å
  document.addEventListener('change', recalc);
  recalc(); // ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏ï‡∏≠‡∏ô‡πÇ‡∏´‡∏•‡∏î
</script>



{% endblock %}
